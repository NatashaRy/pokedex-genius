{% extends 'base.html' %}

{% load static %}
{% load i18n %}

{% block head_title %}Profile | Pokedex Genius{% endblock head_title %}

{% block content %}
<div class="container-fluid bg-bubbles d-flex align-items-center justify-content-center vh-90 m-0 p-lg-0 p-3 pb-5">
    <div class="col-md-6">
        <div class="row gap-5">
            <div class="col nerumorphism p-4">
                <!-- Heading -->
                <div class="text-center">
                    <h1 class="font-heading text-uppercase letterspacing-2 text-center fw-800 p-4 pt-3">Your profile</h1>
                </div>
                <div class="row">
                    <!-- Profile picture -->
                    <div class="col-md-3 text-center">
                        {% if user.profile_picture %}
                            <img src="{{ user.profile_picture.url }}" alt="Profile picture" class="img-thumbnail rounded-circle avatar border-gold w-100">
                        {% else %}
                            <img src="{% static 'images/pikachu-placeholder.webp' %}" alt="Placeholder avatar" class="img-thumbnail rounded-circle avatar border-gold w-75">
                        {% endif %}
                        <div class="col-12">
                            <!-- Username -->
                            <p class="mt-2">
                                <span class="fw-bold">Username:</span><br>
                                <span class="green">{{ user.username}}</span>
                            </p>
                        </div>
                    </div>
                    <!-- Bio text -->
                    <div class="col height-300 my-3">
                        <div class="nerumorphism user-profile text-start border-gold p-3 mb-3 w-100 h-100">
                            <p class="fw-bold text-uppercase letterspacing-2 fs-5">Bio:</p>
                            <p>{{ user.bio }}</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-md-6">
                <div class="nerumorphism">
                    <div class="w-100 text-end p-0 mb-0">
                        <button type="button" class="btn text-end green mb-0 pb-0" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Let other users add you as a friend in Pokemon Go by trainer id or scanning your qr-code.">
                            <i class="bi bi-question-circle fw-bold"></i>
                        </button>
                    </div>
                    {% if user.trainer_qr_code %}
                        <img src="{{ user.trainer_qr_code.url }}" alt="Profile picture" class="img-fluid cover w-75">
                    {% else %}
                        <img src="{% static 'images/trainer-qr-code.webp' %}" alt="Profile picture" class="img-fluid cover w-100">
                    {% endif %}
                </div>
            </div>
        </div>
        <div class="col-12">
            <div class="d-flex flex-md-row text-center">
                <div class="col">
                    <!-- Username -->
                    <p class="mt-4">
                        <span class="fw-bold">Username:</span><br>
                        <span class="green">{{ user.username}}</span>
                    </p>
                </div>
                <div class="col">
                    <!-- Email -->
                    <p class="mt-4">
                        <span class="fw-bold">Email:</span><br>
                        {% if user.email %}
                            <span class="green">{{ user.email }}</span>
                        {% else %}
                            <span><i><a href="#">Add email address</a></i></span>
                        {% endif %}
                    </p>
                </div>
                <div class="col">
                    <!-- Data of birth -->
                    <p class="mt-4">
                        <span class="fw-bold">Birthday:</span><br>
                        {% if user.date_of_birth %}
                            <span class="green">{{ user.date_of_birth }}</span>
                        {% else %}
                            <span><i><a href="#">Add date of birth</a></i></span>
                        {% endif %}
                    </p>
                </div>
                <div class="col">
                    <!-- Website -->
                    <p class="mt-4">
                        <span class="fw-bold">Website:</span><br>
                        {% if user.website_url %}
                            <span class="green">{{ user.website_url }}</span>
                        {% else %}
                            <span><i><a href="#">Add website</a></i></span>
                        {% endif %}
                    </p>
                </div>
                <div class="col">
                    <!-- Pokemon Go trainer code -->
                    <p class="mt-4">
                        <span class="fw-bold">Pokemon Go trainer id:</span><br>
                        {% if user.go_trainer_id %}
                            <span class="green"><strong>{{ user.go_trainer_id }}</strong></span>
                        {% else %}
                            <span><i><a href="#">Add Trainer id</a></i></span>
                        {% endif %}
                    </p>  
                </div>
                <div class="col">
                    <a href="{% url 'update_profile' %}" class="text-justify text-uppercase letterspacing-2 dark fw-800 fs-5 w-100 m-0 py-2">Update profile</a>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock content %}